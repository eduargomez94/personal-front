<h2>Empleados</h2>
<div class="card">
  <p-table #dt2 [value]="empleados" dataKey="id" [rows]="10" [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25, 50]" [loading]="loading" [paginator]="true"
    currentPageReportTemplate="Mostrando {first} de {last} - {totalRecords} Entradas"
    [globalFilterFields]="['No_documento', 'Apellidos', 'Nombres', 'Email_corporativo']"
    [tableStyle]="{ 'min-width': '120rem' }">
    <ng-template pTemplate="caption">
      <div class="flex">
        <span class="p-input-icon-left">
          <i class="pi pi-search"></i>
          <input class="p-inputtext p-component p-element" pInputText type="text"
            (input)="dt2.filterGlobal($any($event.target).value, 'contains')" placeholder="Buscar..." />
        </span>
        <button class="rounded-button" (click)="openDialog(0)">
          <i class="pi pi-plus"></i> Agregar
        </button>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th style="width:10%">Documento</th>
        <th style="width:12%">Apellidos</th>
        <th style="width:12%">Nombres</th>
        <th style="width:12%">Email Corporativo</th>
        <th style="width:11%">Celular</th>
        <th style="width:14%">Dirección</th>
        <th style="width:14%">Proyecto</th>
        <th style="width:10%">N° Contrato</th>
        <th style="width:5%">Acciones</th>
      </tr>
      <tr>
        <th>
          <p-columnFilter type="text" field="No_documento"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Apellidos"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Nombres"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Email_corporativo"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Celular"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Direccion"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Hoja_vida"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="Hoja_vida"></p-columnFilter>
        </th>
        <th> </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-empleado>
      <tr>
        <td>
          {{ empleado.No_documento }}
        </td>
        <td>
          {{ empleado.Apellidos }}
        </td>
        <td>
          {{ empleado.Nombres }}
        </td>
        <td>
          {{ empleado.Email_corporativo }}
        </td>
        <td>
          {{ empleado.Celular }}
        </td>
        <td>
          {{ empleado.Direccion }}
        </td>
        <td>
          {{ empleado.Hoja_vida }}
        </td>
        <td>
          {{ empleado.Hoja_vida }}
        </td>
        <td style="text-align: center;">
          <span style="text-align: center;">
            <button pButton type="button" pTooltip="Editar Meta" (click)="openDialog(empleado.Id_empleado)"
            class="p-button-rounded p-button-warning p-ripple p-button p-component p-button-icon-only btn-size">
              <i class="pi pi-pencil"></i>
            </button>
          </span>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="5">Empleados no encontrados.</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<app-modal-empleado *ngIf="isDialogOpen" [idEmpleado]="idEmpleado" (accepted)="onDialogAccepted()" (canceled)="onDialogCanceled()"></app-modal-empleado>